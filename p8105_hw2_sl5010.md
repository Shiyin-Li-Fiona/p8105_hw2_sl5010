p8105\_hw2\_sl5010
================
Fiona Li
10/2/2021

## Problem 1

``` r
library(tidyverse)
```

    ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──

    ## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
    ## ✓ tibble  3.1.4     ✓ dplyr   1.0.7
    ## ✓ tidyr   1.1.3     ✓ stringr 1.4.0
    ## ✓ readr   2.0.1     ✓ forcats 0.5.1

    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(readxl)
```

### Read and clean the Mr. Trash Wheel sheet:

``` r
TrasWheel_df = read_excel("Data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",range = "A2:N408")

TrasWheel_df = janitor::clean_names(TrasWheel_df)

names(TrasWheel_df)
```

    ##  [1] "dumpster"           "month"              "year"              
    ##  [4] "date"               "weight_tons"        "volume_cubic_yards"
    ##  [7] "plastic_bottles"    "polystyrene"        "cigarette_butts"   
    ## [10] "glass_bottles"      "grocery_bags"       "chip_bags"         
    ## [13] "sports_balls"       "homes_powered"

``` r
TrasWheel_df = filter(TrasWheel_df, !is.na(dumpster)) %>%
mutate(sports_balls = round(sports_balls))
TrasWheel_df
```

    ## # A tibble: 344 × 14
    ##    dumpster month  year date                weight_tons volume_cubic_yards
    ##       <dbl> <chr> <dbl> <dttm>                    <dbl>              <dbl>
    ##  1        1 May    2014 2014-05-16 00:00:00        4.31                 18
    ##  2        2 May    2014 2014-05-16 00:00:00        2.74                 13
    ##  3        3 May    2014 2014-05-16 00:00:00        3.45                 15
    ##  4        4 May    2014 2014-05-17 00:00:00        3.1                  15
    ##  5        5 May    2014 2014-05-17 00:00:00        4.06                 18
    ##  6        6 May    2014 2014-05-20 00:00:00        2.71                 13
    ##  7        7 May    2014 2014-05-21 00:00:00        1.91                  8
    ##  8        8 May    2014 2014-05-28 00:00:00        3.7                  16
    ##  9        9 June   2014 2014-06-05 00:00:00        2.52                 14
    ## 10       10 June   2014 2014-06-11 00:00:00        3.76                 18
    ## # … with 334 more rows, and 8 more variables: plastic_bottles <dbl>,
    ## #   polystyrene <dbl>, cigarette_butts <dbl>, glass_bottles <dbl>,
    ## #   grocery_bags <dbl>, chip_bags <dbl>, sports_balls <dbl>,
    ## #   homes_powered <dbl>

### Read and clean precipitation data for 2018 and 2019

``` r
TrasWheel_df_18 = 
  read_excel("Data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
             sheet = "2018 Precipitation", range = "A2:B14") %>%
  filter(!is.na(Total)) %>%
  mutate(year = 2018)

TrasWheel_df_19= 
  read_excel("Data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = "2019 Precipitation", range = "A2:B14") %>%
  filter(!is.na(Total)) %>%
  mutate(year = 2019)

TrasWheel_df_1819 = full_join(TrasWheel_df_18, TrasWheel_df_19) %>%
  mutate(Month = month.name[Month])
```

    ## Joining, by = c("Month", "Total", "year")

``` r
TrasWheel_df_1819
```

    ## # A tibble: 18 × 3
    ##    Month     Total  year
    ##    <chr>     <dbl> <dbl>
    ##  1 January    0.94  2018
    ##  2 February   4.8   2018
    ##  3 March      2.69  2018
    ##  4 April      4.69  2018
    ##  5 May        9.27  2018
    ##  6 June       4.77  2018
    ##  7 July      10.2   2018
    ##  8 August     6.45  2018
    ##  9 September 10.5   2018
    ## 10 October    2.12  2018
    ## 11 November   7.82  2018
    ## 12 December   6.11  2018
    ## 13 January    3.1   2019
    ## 14 February   3.64  2019
    ## 15 March      4.47  2019
    ## 16 April      1.46  2019
    ## 17 May        3.58  2019
    ## 18 June       0.42  2019

### Write a paragraph about these data

``` r
skimr::skim(TrasWheel_df)
```

|                                                  |               |
|:-------------------------------------------------|:--------------|
| Name                                             | TrasWheel\_df |
| Number of rows                                   | 344           |
| Number of columns                                | 14            |
| \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_   |               |
| Column type frequency:                           |               |
| character                                        | 1             |
| numeric                                          | 12            |
| POSIXct                                          | 1             |
| \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ |               |
| Group variables                                  | None          |

Data summary

**Variable type: character**

| skim\_variable | n\_missing | complete\_rate | min | max | empty | n\_unique | whitespace |
|:---------------|-----------:|---------------:|----:|----:|------:|----------:|-----------:|
| month          |          0 |              1 |   3 |   9 |     0 |        12 |          0 |

**Variable type: numeric**

| skim\_variable       | n\_missing | complete\_rate |     mean |       sd |      p0 |     p25 |      p50 |      p75 |      p100 | hist  |
|:---------------------|-----------:|---------------:|---------:|---------:|--------:|--------:|---------:|---------:|----------:|:------|
| dumpster             |          0 |              1 |   172.50 |    99.45 |    1.00 |   86.75 |   172.50 |   258.25 |    344.00 | ▇▇▇▇▇ |
| year                 |          0 |              1 |  2016.50 |     1.58 | 2014.00 | 2015.00 |  2017.00 |  2018.00 |   2019.00 | ▇▃▃▆▂ |
| weight\_tons         |          0 |              1 |     3.26 |     0.75 |    0.96 |    2.76 |     3.26 |     3.77 |      5.62 | ▁▅▇▅▁ |
| volume\_cubic\_yards |          0 |              1 |    15.54 |     1.68 |    7.00 |   15.00 |    15.00 |    16.00 |     20.00 | ▁▁▁▇▂ |
| plastic\_bottles     |          0 |              1 |  1873.15 |  1028.87 |  210.00 |  957.50 |  1835.00 |  2552.50 |   5960.00 | ▇▆▅▁▁ |
| polystyrene          |          0 |              1 |  2138.68 |  1202.82 |  320.00 | 1065.00 |  2075.00 |  3120.00 |   6540.00 | ▇▆▅▁▁ |
| cigarette\_butts     |          0 |              1 | 30754.13 | 34492.50 |  980.00 | 7000.00 | 19000.00 | 38000.00 | 310000.00 | ▇▁▁▁▁ |
| glass\_bottles       |          0 |              1 |    25.36 |    18.64 |    0.00 |   10.00 |    21.50 |    38.00 |    110.00 | ▇▅▂▁▁ |
| grocery\_bags        |          0 |              1 |  1311.23 |   881.87 |   50.00 |  600.00 |  1050.00 |  1912.50 |   3750.00 | ▇▇▅▃▁ |
| chip\_bags           |          0 |              1 |  1780.27 |   956.53 |  230.00 |  977.50 |  1630.00 |  2490.00 |   5085.00 | ▇▇▅▂▁ |
| sports\_balls        |          0 |              1 |    11.81 |     9.81 |    0.00 |    5.00 |     8.00 |    16.00 |     56.00 | ▇▃▁▁▁ |
| homes\_powered       |          0 |              1 |    43.83 |    23.98 |    0.00 |   35.62 |    51.42 |    59.50 |     93.67 | ▅▂▇▆▁ |

**Variable type: POSIXct**

| skim\_variable | n\_missing | complete\_rate | min        | max        | median     | n\_unique |
|:---------------|-----------:|---------------:|:-----------|:-----------|:-----------|----------:|
| date           |          0 |              1 | 2014-05-16 | 2019-06-17 | 2017-03-31 |       217 |

``` r
skimr::skim(TrasWheel_df_1819)
```

|                                                  |                     |
|:-------------------------------------------------|:--------------------|
| Name                                             | TrasWheel\_df\_1819 |
| Number of rows                                   | 18                  |
| Number of columns                                | 3                   |
| \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_   |                     |
| Column type frequency:                           |                     |
| character                                        | 1                   |
| numeric                                          | 2                   |
| \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ |                     |
| Group variables                                  | None                |

Data summary

**Variable type: character**

| skim\_variable | n\_missing | complete\_rate | min | max | empty | n\_unique | whitespace |
|:---------------|-----------:|---------------:|----:|----:|------:|----------:|-----------:|
| Month          |          0 |              1 |   3 |   9 |     0 |        12 |          0 |

**Variable type: numeric**

| skim\_variable | n\_missing | complete\_rate |    mean |   sd |      p0 |     p25 |     p50 |     p75 |    p100 | hist  |
|:---------------|-----------:|---------------:|--------:|-----:|--------:|--------:|--------:|--------:|--------:|:------|
| Total          |          0 |              1 |    4.83 | 3.04 |    0.42 |    2.79 |    4.58 |    6.36 |   10.47 | ▅▅▇▁▃ |
| year           |          0 |              1 | 2018.33 | 0.49 | 2018.00 | 2018.00 | 2018.00 | 2019.00 | 2019.00 | ▇▁▁▁▃ |

``` r
median =
  filter(TrasWheel_df, year == 2019)%>%
  pull(sports_balls)%>%
  median()
median
```

    ## [1] 8.5

the number of observations in TrasWheel\_df dataset is 344, and that in
TrasWheel\_df\_1819 is 18. Key variables of TrasWheel\_df is
sports\_balls, and key variables of TrasWheel\_df\_1819 is Total. For
available data, the total precipitation in 2018 is 70.33, and the median
number of sports balls in a dumpster in 2019 is 8.5.

## Problem 2

### clean the data in pols-month.csv.

``` r
pols_month_df = 
  read.csv(file = "./data/pols-month.csv") %>%
  separate(mon, into = c("year", "month", "day"), sep ="-") %>%
  mutate(month = as.numeric(month)) %>%
  mutate(month = month.name[month]) %>%
  select(-day, -prez_gop, -prez_dem) %>%
  pivot_longer(
    gov_gop:rep_dem,
    names_to = "prez", 
    values_to = "president") %>%
  mutate(year = as.numeric(year))
pols_month_df
```

    ## # A tibble: 4,932 × 4
    ##     year month    prez    president
    ##    <dbl> <chr>    <chr>       <int>
    ##  1  1947 January  gov_gop        23
    ##  2  1947 January  sen_gop        51
    ##  3  1947 January  rep_gop       253
    ##  4  1947 January  gov_dem        23
    ##  5  1947 January  sen_dem        45
    ##  6  1947 January  rep_dem       198
    ##  7  1947 February gov_gop        23
    ##  8  1947 February sen_gop        51
    ##  9  1947 February rep_gop       253
    ## 10  1947 February gov_dem        23
    ## # … with 4,922 more rows

### Second, clean the data in snp.csv using a similar process to the above.

``` r
snp_df = 
  read.csv(file = "./data/snp.csv") %>%
  separate(date, into = c("month", "day", "year"), sep ="/")%>%
  mutate(month = as.numeric(month)) %>%
  mutate(month = month.name[month]) %>%
  select(-day) %>%
  mutate(year = as.numeric(year))
  for (i in 1: nrow(snp_df)){
    if (snp_df$year[i] > 15) {snp_df$year[i] = snp_df$year[i]+1900}
    else {snp_df$year[i] = snp_df$year[i]+2000}
  }
  
snp_df  
```

    ##         month year   close
    ## 1        July 2015 2079.65
    ## 2        June 2015 2063.11
    ## 3         May 2015 2107.39
    ## 4       April 2015 2085.51
    ## 5       March 2015 2067.89
    ## 6    February 2015 2104.50
    ## 7     January 2015 1994.99
    ## 8    December 2014 2058.90
    ## 9    November 2014 2067.56
    ## 10    October 2014 2018.05
    ## 11  September 2014 1972.29
    ## 12     August 2014 2003.37
    ## 13       July 2014 1930.67
    ## 14       June 2014 1960.23
    ## 15        May 2014 1923.57
    ## 16      April 2014 1883.95
    ## 17      March 2014 1872.34
    ## 18   February 2014 1859.45
    ## 19    January 2014 1782.59
    ## 20   December 2013 1848.36
    ## 21   November 2013 1805.81
    ## 22    October 2013 1756.54
    ## 23  September 2013 1681.55
    ## 24     August 2013 1632.97
    ## 25       July 2013 1685.73
    ## 26       June 2013 1606.28
    ## 27        May 2013 1630.74
    ## 28      April 2013 1597.57
    ## 29      March 2013 1569.19
    ## 30   February 2013 1514.68
    ## 31    January 2013 1498.11
    ## 32   December 2012 1426.19
    ## 33   November 2012 1416.18
    ## 34    October 2012 1412.16
    ## 35  September 2012 1440.67
    ## 36     August 2012 1406.58
    ## 37       July 2012 1379.32
    ## 38       June 2012 1362.16
    ## 39        May 2012 1310.33
    ## 40      April 2012 1397.91
    ## 41      March 2012 1408.47
    ## 42   February 2012 1365.68
    ## 43    January 2012 1312.41
    ## 44   December 2011 1257.60
    ## 45   November 2011 1246.96
    ## 46    October 2011 1253.30
    ## 47  September 2011 1131.42
    ## 48     August 2011 1218.89
    ## 49       July 2011 1292.28
    ## 50       June 2011 1320.64
    ## 51        May 2011 1345.20
    ## 52      April 2011 1363.61
    ## 53      March 2011 1325.83
    ## 54   February 2011 1327.22
    ## 55    January 2011 1286.12
    ## 56   December 2010 1257.64
    ## 57   November 2010 1180.55
    ## 58    October 2010 1183.26
    ## 59  September 2010 1141.20
    ## 60     August 2010 1049.33
    ## 61       July 2010 1101.60
    ## 62       June 2010 1030.71
    ## 63        May 2010 1089.41
    ## 64      April 2010 1186.69
    ## 65      March 2010 1169.43
    ## 66   February 2010 1104.49
    ## 67    January 2010 1073.87
    ## 68   December 2009 1115.10
    ## 69   November 2009 1095.63
    ## 70    October 2009 1036.19
    ## 71  September 2009 1057.08
    ## 72     August 2009 1020.62
    ## 73       July 2009  987.48
    ## 74       June 2009  919.32
    ## 75        May 2009  919.14
    ## 76      April 2009  872.81
    ## 77      March 2009  797.87
    ## 78   February 2009  735.09
    ## 79    January 2009  825.88
    ## 80   December 2008  903.25
    ## 81   November 2008  896.24
    ## 82    October 2008  968.75
    ## 83  September 2008 1166.36
    ## 84     August 2008 1282.83
    ## 85       July 2008 1267.38
    ## 86       June 2008 1280.00
    ## 87        May 2008 1400.38
    ## 88      April 2008 1385.59
    ## 89      March 2008 1322.70
    ## 90   February 2008 1330.63
    ## 91    January 2008 1378.55
    ## 92   December 2007 1468.36
    ## 93   November 2007 1481.14
    ## 94    October 2007 1549.38
    ## 95  September 2007 1526.75
    ## 96     August 2007 1473.99
    ## 97       July 2007 1455.27
    ## 98       June 2007 1503.35
    ## 99        May 2007 1530.62
    ## 100     April 2007 1482.37
    ## 101     March 2007 1420.86
    ## 102  February 2007 1406.82
    ## 103   January 2007 1438.24
    ## 104  December 2006 1418.30
    ## 105  November 2006 1400.63
    ## 106   October 2006 1377.94
    ## 107 September 2006 1335.85
    ## 108    August 2006 1303.82
    ## 109      July 2006 1276.66
    ## 110      June 2006 1270.20
    ## 111       May 2006 1270.09
    ## 112     April 2006 1310.61
    ## 113     March 2006 1294.87
    ## 114  February 2006 1280.66
    ## 115   January 2006 1280.08
    ## 116  December 2005 1248.29
    ## 117  November 2005 1249.48
    ## 118   October 2005 1207.01
    ## 119 September 2005 1228.81
    ## 120    August 2005 1220.33
    ## 121      July 2005 1234.18
    ## 122      June 2005 1191.33
    ## 123       May 2005 1191.50
    ## 124     April 2005 1156.85
    ## 125     March 2005 1180.59
    ## 126  February 2005 1203.60
    ## 127   January 2005 1181.27
    ## 128  December 2004 1211.92
    ## 129  November 2004 1173.82
    ## 130   October 2004 1130.20
    ## 131 September 2004 1114.58
    ## 132    August 2004 1104.24
    ## 133      July 2004 1101.72
    ## 134      June 2004 1140.84
    ## 135       May 2004 1120.68
    ## 136     April 2004 1107.30
    ## 137     March 2004 1126.21
    ## 138  February 2004 1144.94
    ## 139   January 2004 1131.13
    ## 140  December 2003 1111.92
    ## 141  November 2003 1058.20
    ## 142   October 2003 1050.71
    ## 143 September 2003  995.97
    ## 144    August 2003 1008.01
    ## 145      July 2003  990.31
    ## 146      June 2003  974.50
    ## 147       May 2003  963.59
    ## 148     April 2003  916.92
    ## 149     March 2003  848.18
    ## 150  February 2003  841.15
    ## 151   January 2003  855.70
    ## 152  December 2002  879.82
    ## 153  November 2002  936.31
    ## 154   October 2002  885.76
    ## 155 September 2002  815.28
    ## 156    August 2002  916.07
    ## 157      July 2002  911.62
    ## 158      June 2002  989.82
    ## 159       May 2002 1067.14
    ## 160     April 2002 1076.92
    ## 161     March 2002 1147.39
    ## 162  February 2002 1106.73
    ## 163   January 2002 1130.20
    ## 164  December 2001 1148.08
    ## 165  November 2001 1139.45
    ## 166   October 2001 1059.78
    ## 167 September 2001 1040.94
    ## 168    August 2001 1133.58
    ## 169      July 2001 1211.23
    ## 170      June 2001 1224.38
    ## 171       May 2001 1255.82
    ## 172     April 2001 1249.46
    ## 173     March 2001 1160.33
    ## 174  February 2001 1239.94
    ## 175   January 2001 1366.01
    ## 176  December 2000 1320.28
    ## 177  November 2000 1314.95
    ## 178   October 2000 1429.40
    ## 179 September 2000 1436.51
    ## 180    August 2000 1517.68
    ## 181      July 2000 1430.83
    ## 182      June 2000 1454.60
    ## 183       May 2000 1420.60
    ## 184     April 2000 1452.43
    ## 185     March 2000 1498.58
    ## 186  February 2000 1366.42
    ## 187   January 2000 1394.46
    ## 188  December 1999 1469.25
    ## 189  November 1999 1388.91
    ## 190   October 1999 1362.93
    ## 191 September 1999 1282.71
    ## 192    August 1999 1320.41
    ## 193      July 1999 1328.72
    ## 194      June 1999 1372.71
    ## 195       May 1999 1301.84
    ## 196     April 1999 1335.18
    ## 197     March 1999 1286.37
    ## 198  February 1999 1238.33
    ## 199   January 1999 1279.64
    ## 200  December 1998 1229.23
    ## 201  November 1998 1163.63
    ## 202   October 1998 1098.67
    ## 203 September 1998 1017.01
    ## 204    August 1998  957.28
    ## 205      July 1998 1120.67
    ## 206      June 1998 1133.84
    ## 207       May 1998 1090.82
    ## 208     April 1998 1111.75
    ## 209     March 1998 1101.75
    ## 210  February 1998 1049.34
    ## 211   January 1998  980.28
    ## 212  December 1997  970.43
    ## 213  November 1997  955.40
    ## 214   October 1997  914.62
    ## 215 September 1997  947.28
    ## 216    August 1997  899.47
    ## 217      July 1997  954.31
    ## 218      June 1997  885.14
    ## 219       May 1997  848.28
    ## 220     April 1997  801.34
    ## 221     March 1997  757.12
    ## 222  February 1997  790.82
    ## 223   January 1997  786.16
    ## 224  December 1996  740.74
    ## 225  November 1996  757.02
    ## 226   October 1996  705.27
    ## 227 September 1996  687.33
    ## 228    August 1996  651.99
    ## 229      July 1996  639.95
    ## 230      June 1996  670.63
    ## 231       May 1996  669.12
    ## 232     April 1996  654.17
    ## 233     March 1996  645.50
    ## 234  February 1996  640.43
    ## 235   January 1996  636.02
    ## 236  December 1995  615.93
    ## 237  November 1995  605.37
    ## 238   October 1995  581.50
    ## 239 September 1995  584.41
    ## 240    August 1995  561.88
    ## 241      July 1995  562.06
    ## 242      June 1995  544.75
    ## 243       May 1995  533.40
    ## 244     April 1995  514.71
    ## 245     March 1995  500.71
    ## 246  February 1995  487.39
    ## 247   January 1995  470.42
    ## 248  December 1994  459.27
    ## 249  November 1994  453.69
    ## 250   October 1994  472.35
    ## 251 September 1994  462.71
    ## 252    August 1994  475.49
    ## 253      July 1994  458.26
    ## 254      June 1994  444.27
    ## 255       May 1994  456.50
    ## 256     April 1994  450.91
    ## 257     March 1994  445.77
    ## 258  February 1994  467.14
    ## 259   January 1994  481.61
    ## 260  December 1993  466.45
    ## 261  November 1993  461.79
    ## 262   October 1993  467.83
    ## 263 September 1993  458.93
    ## 264    August 1993  463.56
    ## 265      July 1993  448.13
    ## 266      June 1993  450.53
    ## 267       May 1993  450.19
    ## 268     April 1993  440.19
    ## 269     March 1993  451.67
    ## 270  February 1993  443.38
    ## 271   January 1993  438.78
    ## 272  December 1992  435.71
    ## 273  November 1992  431.35
    ## 274   October 1992  418.68
    ## 275 September 1992  417.80
    ## 276    August 1992  414.03
    ## 277      July 1992  424.21
    ## 278      June 1992  408.14
    ## 279       May 1992  415.35
    ## 280     April 1992  414.95
    ## 281     March 1992  403.69
    ## 282  February 1992  412.70
    ## 283   January 1992  408.78
    ## 284  December 1991  417.09
    ## 285  November 1991  375.22
    ## 286   October 1991  392.45
    ## 287 September 1991  387.86
    ## 288    August 1991  395.43
    ## 289      July 1991  387.81
    ## 290      June 1991  371.16
    ## 291       May 1991  389.83
    ## 292     April 1991  375.34
    ## 293     March 1991  375.22
    ## 294  February 1991  367.07
    ## 295   January 1991  343.93
    ## 296  December 1990  330.22
    ## 297  November 1990  322.22
    ## 298   October 1990  304.00
    ## 299 September 1990  306.05
    ## 300    August 1990  322.56
    ## 301      July 1990  356.15
    ## 302      June 1990  358.02
    ## 303       May 1990  361.23
    ## 304     April 1990  330.80
    ## 305     March 1990  339.94
    ## 306  February 1990  331.89
    ## 307   January 1990  329.08
    ## 308  December 1989  353.40
    ## 309  November 1989  345.99
    ## 310   October 1989  340.36
    ## 311 September 1989  349.15
    ## 312    August 1989  351.45
    ## 313      July 1989  346.08
    ## 314      June 1989  317.98
    ## 315       May 1989  320.52
    ## 316     April 1989  309.64
    ## 317     March 1989  294.87
    ## 318  February 1989  288.86
    ## 319   January 1989  297.47
    ## 320  December 1988  277.72
    ## 321  November 1988  273.70
    ## 322   October 1988  278.97
    ## 323 September 1988  271.91
    ## 324    August 1988  261.52
    ## 325      July 1988  272.02
    ## 326      June 1988  273.50
    ## 327       May 1988  262.16
    ## 328     April 1988  261.33
    ## 329     March 1988  258.89
    ## 330  February 1988  267.82
    ## 331   January 1988  257.07
    ## 332  December 1987  247.08
    ## 333  November 1987  230.30
    ## 334   October 1987  251.79
    ## 335 September 1987  321.83
    ## 336    August 1987  329.80
    ## 337      July 1987  318.66
    ## 338      June 1987  304.00
    ## 339       May 1987  290.10
    ## 340     April 1987  288.36
    ## 341     March 1987  291.70
    ## 342  February 1987  284.20
    ## 343   January 1987  274.08
    ## 344  December 1986  242.17
    ## 345  November 1986  249.22
    ## 346   October 1986  243.98
    ## 347 September 1986  231.32
    ## 348    August 1986  252.93
    ## 349      July 1986  236.12
    ## 350      June 1986  250.84
    ## 351       May 1986  247.35
    ## 352     April 1986  235.52
    ## 353     March 1986  238.90
    ## 354  February 1986  226.92
    ## 355   January 1986  211.78
    ## 356  December 1985  211.28
    ## 357  November 1985  202.17
    ## 358   October 1985  189.82
    ## 359 September 1985  182.08
    ## 360    August 1985  188.63
    ## 361      July 1985  190.92
    ## 362      June 1985  191.85
    ## 363       May 1985  189.55
    ## 364     April 1985  179.83
    ## 365     March 1985  180.66
    ## 366  February 1985  181.18
    ## 367   January 1985  179.63
    ## 368  December 1984  167.24
    ## 369  November 1984  163.58
    ## 370   October 1984  166.09
    ## 371 September 1984  166.10
    ## 372    August 1984  166.68
    ## 373      July 1984  150.66
    ## 374      June 1984  153.18
    ## 375       May 1984  150.55
    ## 376     April 1984  160.05
    ## 377     March 1984  159.18
    ## 378  February 1984  157.06
    ## 379   January 1984  163.41
    ## 380  December 1983  164.93
    ## 381  November 1983  166.40
    ## 382   October 1983  163.55
    ## 383 September 1983  166.07
    ## 384    August 1983  164.40
    ## 385      July 1983  162.56
    ## 386      June 1983  167.64
    ## 387       May 1983  162.39
    ## 388     April 1983  164.43
    ## 389     March 1983  152.96
    ## 390  February 1983  148.06
    ## 391   January 1983  145.30
    ## 392  December 1982  140.64
    ## 393  November 1982  138.53
    ## 394   October 1982  133.72
    ## 395 September 1982  120.42
    ## 396    August 1982  119.51
    ## 397      July 1982  107.09
    ## 398      June 1982  109.61
    ## 399       May 1982  111.88
    ## 400     April 1982  116.44
    ## 401     March 1982  111.96
    ## 402  February 1982  113.11
    ## 403   January 1982  120.40
    ## 404  December 1981  122.55
    ## 405  November 1981  126.35
    ## 406   October 1981  121.89
    ## 407 September 1981  116.18
    ## 408    August 1981  122.79
    ## 409      July 1981  130.92
    ## 410      June 1981  131.21
    ## 411       May 1981  132.59
    ## 412     April 1981  132.81
    ## 413     March 1981  136.00
    ## 414  February 1981  131.27
    ## 415   January 1981  129.55
    ## 416  December 1980  135.76
    ## 417  November 1980  140.52
    ## 418   October 1980  127.47
    ## 419 September 1980  125.46
    ## 420    August 1980  122.38
    ## 421      July 1980  121.67
    ## 422      June 1980  114.24
    ## 423       May 1980  111.24
    ## 424     April 1980  106.29
    ## 425     March 1980  102.09
    ## 426  February 1980  113.66
    ## 427   January 1980  114.16
    ## 428  December 1979  107.94
    ## 429  November 1979  106.16
    ## 430   October 1979  101.82
    ## 431 September 1979  109.32
    ## 432    August 1979  109.32
    ## 433      July 1979  103.81
    ## 434      June 1979  102.91
    ## 435       May 1979   99.08
    ## 436     April 1979  101.76
    ## 437     March 1979  101.59
    ## 438  February 1979   96.28
    ## 439   January 1979   99.93
    ## 440  December 1978   96.11
    ## 441  November 1978   94.70
    ## 442   October 1978   93.15
    ## 443 September 1978  102.54
    ## 444    August 1978  103.29
    ## 445      July 1978  100.68
    ## 446      June 1978   95.53
    ## 447       May 1978   97.24
    ## 448     April 1978   96.83
    ## 449     March 1978   89.21
    ## 450  February 1978   87.04
    ## 451   January 1978   89.25
    ## 452  December 1977   95.10
    ## 453  November 1977   94.83
    ## 454   October 1977   92.34
    ## 455 September 1977   96.53
    ## 456    August 1977   96.77
    ## 457      July 1977   98.85
    ## 458      June 1977  100.48
    ## 459       May 1977   96.12
    ## 460     April 1977   98.44
    ## 461     March 1977   98.42
    ## 462  February 1977   99.82
    ## 463   January 1977  102.03
    ## 464  December 1976  107.46
    ## 465  November 1976  102.10
    ## 466   October 1976  102.90
    ## 467 September 1976  105.24
    ## 468    August 1976  102.91
    ## 469      July 1976  103.44
    ## 470      June 1976  104.28
    ## 471       May 1976  100.18
    ## 472     April 1976  101.64
    ## 473     March 1976  102.77
    ## 474  February 1976   99.71
    ## 475   January 1976  100.86
    ## 476  December 1975   90.19
    ## 477  November 1975   91.24
    ## 478   October 1975   89.04
    ## 479 September 1975   83.87
    ## 480    August 1975   86.88
    ## 481      July 1975   88.75
    ## 482      June 1975   95.19
    ## 483       May 1975   91.15
    ## 484     April 1975   87.30
    ## 485     March 1975   83.36
    ## 486  February 1975   81.59
    ## 487   January 1975   76.98
    ## 488  December 1974   68.56
    ## 489  November 1974   69.97
    ## 490   October 1974   73.90
    ## 491 September 1974   63.54
    ## 492    August 1974   72.15
    ## 493      July 1974   79.31
    ## 494      June 1974   86.00
    ## 495       May 1974   87.28
    ## 496     April 1974   90.31
    ## 497     March 1974   93.98
    ## 498  February 1974   96.22
    ## 499   January 1974   96.57
    ## 500  December 1973   97.55
    ## 501  November 1973   95.96
    ## 502   October 1973  108.29
    ## 503 September 1973  108.43
    ## 504    August 1973  104.25
    ## 505      July 1973  108.22
    ## 506      June 1973  104.26
    ## 507       May 1973  104.95
    ## 508     April 1973  106.97
    ## 509     March 1973  111.52
    ## 510  February 1973  111.68
    ## 511   January 1973  116.03
    ## 512  December 1972  118.05
    ## 513  November 1972  116.67
    ## 514   October 1972  111.58
    ## 515 September 1972  110.55
    ## 516    August 1972  111.09
    ## 517      July 1972  107.39
    ## 518      June 1972  107.14
    ## 519       May 1972  109.53
    ## 520     April 1972  107.67
    ## 521     March 1972  107.20
    ## 522  February 1972  106.57
    ## 523   January 1972  103.94
    ## 524  December 1971  102.09
    ## 525  November 1971   93.99
    ## 526   October 1971   94.23
    ## 527 September 1971   98.34
    ## 528    August 1971   99.03
    ## 529      July 1971   95.58
    ## 530      June 1971   98.70
    ## 531       May 1971   99.63
    ## 532     April 1971  103.95
    ## 533     March 1971  100.31
    ## 534  February 1971   96.75
    ## 535   January 1971   95.88
    ## 536  December 1970   92.15
    ## 537  November 1970   87.20
    ## 538   October 1970   83.25
    ## 539 September 1970   84.30
    ## 540    August 1970   81.52
    ## 541      July 1970   78.05
    ## 542      June 1970   72.72
    ## 543       May 1970   76.55
    ## 544     April 1970   81.52
    ## 545     March 1970   89.63
    ## 546  February 1970   89.50
    ## 547   January 1970   85.02
    ## 548  December 1969   92.06
    ## 549  November 1969   93.81
    ## 550   October 1969   97.12
    ## 551 September 1969   93.12
    ## 552    August 1969   95.51
    ## 553      July 1969   91.83
    ## 554      June 1969   97.71
    ## 555       May 1969  103.46
    ## 556     April 1969  103.69
    ## 557     March 1969  101.51
    ## 558  February 1969   98.13
    ## 559   January 1969  103.01
    ## 560  December 1968  103.86
    ## 561  November 1968  108.37
    ## 562   October 1968  103.41
    ## 563 September 1968  102.67
    ## 564    August 1968   98.86
    ## 565      July 1968   97.74
    ## 566      June 1968   99.58
    ## 567       May 1968   98.68
    ## 568     April 1968   97.46
    ## 569     March 1968   90.20
    ## 570  February 1968   89.36
    ## 571   January 1968   92.24
    ## 572  December 1967   96.47
    ## 573  November 1967   94.00
    ## 574   October 1967   93.30
    ## 575 September 1967   96.71
    ## 576    August 1967   93.64
    ## 577      July 1967   94.75
    ## 578      June 1967   90.64
    ## 579       May 1967   89.08
    ## 580     April 1967   94.01
    ## 581     March 1967   90.20
    ## 582  February 1967   86.78
    ## 583   January 1967   86.61
    ## 584  December 1966   80.33
    ## 585  November 1966   80.45
    ## 586   October 1966   80.20
    ## 587 September 1966   76.56
    ## 588    August 1966   77.10
    ## 589      July 1966   83.60
    ## 590      June 1966   84.74
    ## 591       May 1966   86.13
    ## 592     April 1966   91.06
    ## 593     March 1966   89.23
    ## 594  February 1966   91.22
    ## 595   January 1966   92.88
    ## 596  December 1965   92.43
    ## 597  November 1965   91.61
    ## 598   October 1965   92.42
    ## 599 September 1965   89.96
    ## 600    August 1965   87.17
    ## 601      July 1965   85.25
    ## 602      June 1965   84.12
    ## 603       May 1965   88.42
    ## 604     April 1965   89.11
    ## 605     March 1965   86.16
    ## 606  February 1965   87.43
    ## 607   January 1965   87.56
    ## 608  December 1964   84.75
    ## 609  November 1964   84.42
    ## 610   October 1964   84.86
    ## 611 September 1964   84.18
    ## 612    August 1964   81.83
    ## 613      July 1964   83.18
    ## 614      June 1964   81.69
    ## 615       May 1964   80.37
    ## 616     April 1964   79.46
    ## 617     March 1964   78.98
    ## 618  February 1964   77.80
    ## 619   January 1964   77.04
    ## 620  December 1963   75.02
    ## 621  November 1963   73.23
    ## 622   October 1963   74.01
    ## 623 September 1963   71.70
    ## 624    August 1963   72.50
    ## 625      July 1963   69.13
    ## 626      June 1963   69.37
    ## 627       May 1963   70.80
    ## 628     April 1963   69.80
    ## 629     March 1963   66.57
    ## 630  February 1963   64.29
    ## 631   January 1963   66.20
    ## 632  December 1962   63.10
    ## 633  November 1962   62.26
    ## 634   October 1962   56.52
    ## 635 September 1962   56.27
    ## 636    August 1962   59.12
    ## 637      July 1962   58.23
    ## 638      June 1962   54.75
    ## 639       May 1962   59.63
    ## 640     April 1962   65.24
    ## 641     March 1962   69.55
    ## 642  February 1962   69.96
    ## 643   January 1962   68.84
    ## 644  December 1961   71.55
    ## 645  November 1961   71.32
    ## 646   October 1961   68.62
    ## 647 September 1961   66.73
    ## 648    August 1961   68.07
    ## 649      July 1961   66.76
    ## 650      June 1961   64.64
    ## 651       May 1961   66.56
    ## 652     April 1961   65.31
    ## 653     March 1961   65.06
    ## 654  February 1961   63.44
    ## 655   January 1961   61.78
    ## 656  December 1960   58.11
    ## 657  November 1960   55.54
    ## 658   October 1960   53.39
    ## 659 September 1960   53.52
    ## 660    August 1960   56.96
    ## 661      July 1960   55.51
    ## 662      June 1960   56.92
    ## 663       May 1960   55.83
    ## 664     April 1960   54.37
    ## 665     March 1960   55.34
    ## 666  February 1960   56.12
    ## 667   January 1960   55.61
    ## 668  December 1959   59.89
    ## 669  November 1959   58.28
    ## 670   October 1959   57.52
    ## 671 September 1959   56.88
    ## 672    August 1959   59.60
    ## 673      July 1959   60.51
    ## 674      June 1959   58.47
    ## 675       May 1959   58.68
    ## 676     April 1959   57.59
    ## 677     March 1959   55.44
    ## 678  February 1959   55.41
    ## 679   January 1959   55.45
    ## 680  December 1958   55.21
    ## 681  November 1958   52.48
    ## 682   October 1958   51.33
    ## 683 September 1958   50.06
    ## 684    August 1958   47.75
    ## 685      July 1958   47.19
    ## 686      June 1958   45.24
    ## 687       May 1958   44.09
    ## 688     April 1958   43.44
    ## 689     March 1958   42.10
    ## 690  February 1958   40.84
    ## 691   January 1958   41.70
    ## 692  December 1957   39.99
    ## 693  November 1957   41.72
    ## 694   October 1957   41.06
    ## 695 September 1957   42.42
    ## 696    August 1957   45.22
    ## 697      July 1957   47.91
    ## 698      June 1957   47.37
    ## 699       May 1957   47.43
    ## 700     April 1957   45.74
    ## 701     March 1957   44.11
    ## 702  February 1957   43.26
    ## 703   January 1957   44.72
    ## 704  December 1956   46.67
    ## 705  November 1956   45.08
    ## 706   October 1956   45.58
    ## 707 September 1956   45.35
    ## 708    August 1956   47.51
    ## 709      July 1956   49.39
    ## 710      June 1956   46.97
    ## 711       May 1956   45.20
    ## 712     April 1956   48.38
    ## 713     March 1956   48.48
    ## 714  February 1956   45.34
    ## 715   January 1956   43.82
    ## 716  December 1955   45.48
    ## 717  November 1955   45.51
    ## 718   October 1955   42.34
    ## 719 September 1955   43.67
    ## 720    August 1955   43.18
    ## 721      July 1955   43.52
    ## 722      June 1955   41.03
    ## 723       May 1955   37.91
    ## 724     April 1955   37.96
    ## 725     March 1955   36.58
    ## 726  February 1955   36.76
    ## 727   January 1955   36.63
    ## 728  December 1954   35.98
    ## 729  November 1954   34.24
    ## 730   October 1954   31.68
    ## 731 September 1954   32.31
    ## 732    August 1954   29.83
    ## 733      July 1954   30.88
    ## 734      June 1954   29.21
    ## 735       May 1954   29.19
    ## 736     April 1954   28.26
    ## 737     March 1954   26.94
    ## 738  February 1954   26.15
    ## 739   January 1954   26.08
    ## 740  December 1953   24.81
    ## 741  November 1953   24.76
    ## 742   October 1953   24.54
    ## 743 September 1953   23.35
    ## 744    August 1953   23.32
    ## 745      July 1953   24.75
    ## 746      June 1953   24.14
    ## 747       May 1953   24.54
    ## 748     April 1953   24.62
    ## 749     March 1953   25.29
    ## 750  February 1953   25.90
    ## 751   January 1953   26.38
    ## 752  December 1952   26.57
    ## 753  November 1952   25.66
    ## 754   October 1952   24.52
    ## 755 September 1952   24.54
    ## 756    August 1952   25.03
    ## 757      July 1952   25.40
    ## 758      June 1952   24.96
    ## 759       May 1952   23.86
    ## 760     April 1952   23.32
    ## 761     March 1952   24.37
    ## 762  February 1952   23.26
    ## 763   January 1952   24.14
    ## 764  December 1951   23.77
    ## 765  November 1951   22.88
    ## 766   October 1951   22.94
    ## 767 September 1951   23.26
    ## 768    August 1951   23.28
    ## 769      July 1951   22.40
    ## 770      June 1951   20.96
    ## 771       May 1951   21.52
    ## 772     April 1951   22.43
    ## 773     March 1951   21.48
    ## 774  February 1951   21.80
    ## 775   January 1951   21.66
    ## 776  December 1950   20.43
    ## 777  November 1950   19.51
    ## 778   October 1950   19.53
    ## 779 September 1950   19.45
    ## 780    August 1950   18.42
    ## 781      July 1950   17.84
    ## 782      June 1950   17.69
    ## 783       May 1950   18.78
    ## 784     April 1950   17.96
    ## 785     March 1950   17.29
    ## 786  February 1950   17.22
    ## 787   January 1950   17.05

### Third, tidy the unemployment data so that it can be merged with the previous datasets.

``` r
unemployment_df = 
  read.csv(file = "./data/unemployment.csv")%>%
  pivot_longer(
    Jan:Dec,
    names_to = "month", 
    values_to = "unemployment") %>%
  mutate(Year = as.double(Year)) %>%
  rename(year = Year)
 unemployment_df$month = match(unemployment_df$month,month.abb)
  unemployment_df$month = month.name[unemployment_df$month]

unemployment_df
```

    ## # A tibble: 816 × 3
    ##     year month     unemployment
    ##    <dbl> <chr>            <dbl>
    ##  1  1948 January            3.4
    ##  2  1948 February           3.8
    ##  3  1948 March              4  
    ##  4  1948 April              3.9
    ##  5  1948 May                3.5
    ##  6  1948 June               3.6
    ##  7  1948 July               3.6
    ##  8  1948 August             3.9
    ##  9  1948 September          3.8
    ## 10  1948 October            3.7
    ## # … with 806 more rows

### Join the datasets by merging snp into pols, and merging unemployment into the result.

``` r
final_data = 
   left_join(pols_month_df,snp_df, by = c("month","year")) %>%
   left_join(unemployment_df, by = c("month","year"))
final_data
```

    ## # A tibble: 4,932 × 6
    ##     year month    prez    president close unemployment
    ##    <dbl> <chr>    <chr>       <int> <dbl>        <dbl>
    ##  1  1947 January  gov_gop        23    NA           NA
    ##  2  1947 January  sen_gop        51    NA           NA
    ##  3  1947 January  rep_gop       253    NA           NA
    ##  4  1947 January  gov_dem        23    NA           NA
    ##  5  1947 January  sen_dem        45    NA           NA
    ##  6  1947 January  rep_dem       198    NA           NA
    ##  7  1947 February gov_gop        23    NA           NA
    ##  8  1947 February sen_gop        51    NA           NA
    ##  9  1947 February rep_gop       253    NA           NA
    ## 10  1947 February gov_dem        23    NA           NA
    ## # … with 4,922 more rows

### Write a short paragraph about these datasets.

``` r
dim(pols_month_df)
```

    ## [1] 4932    4

``` r
range(pull(pols_month_df,year))
```

    ## [1] 1947 2015

``` r
names(pols_month_df)
```

    ## [1] "year"      "month"     "prez"      "president"

``` r
dim(snp_df)
```

    ## [1] 787   3

``` r
range(pull(snp_df,year))
```

    ## [1] 1950 2015

``` r
names(snp_df)
```

    ## [1] "month" "year"  "close"

``` r
dim(unemployment_df)
```

    ## [1] 816   3

``` r
range(pull(unemployment_df,year))
```

    ## [1] 1948 2015

``` r
names(unemployment_df)
```

    ## [1] "year"         "month"        "unemployment"

``` r
dim(final_data)
```

    ## [1] 4932    6

``` r
range(pull(final_data,year))
```

    ## [1] 1947 2015

``` r
names(final_data)
```

    ## [1] "year"         "month"        "prez"         "president"    "close"       
    ## [6] "unemployment"

For pols\_month\_df, the dimension is (4932,4), range of years is
(1947,2015), and names of key variables are “prez” and “president”.

For snp\_df, the dimension is (787,3), range of years is (1950,2015),
and name of key variable is "“close”.

For unemployment\_df, the dimension is (816,3), range of years is
(1948,2015), and name of key variable is “unemployment”.

For final\_data, the dimension is (4932,6), range of years is
(1947,2015), and name of key variable is “prez”, “president”, “close”,
“unemployment”.

## Problem 3
